{% extends 'registrations/base.html' %}
{% load static %}

{% block title %}Check Registration Status - ASPIR{% endblock %}

{% block content %}
<div class="export-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  
  <!-- Navigation -->
  <nav style="padding: 16px 0; border-bottom: 1px solid #d2d2d7; position: sticky; top: 0; background: rgba(255, 255, 255, 0.8); backdrop-filter: saturate(180%) blur(20px); z-index: 100;">
    <div class="container" style="display: flex; justify-content: space-between; align-items: center; gap: 12px;">
      <a href="{% url 'home' %}" style="display: flex; align-items: center; text-decoration: none; transition: transform 0.2s ease; flex-shrink: 0;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
        <img src="{% static 'images/Elevate-Tribe-Bg-Remover.png' %}" alt="ASPIR Logo" style="height: 50px; width: auto;">
      </a>
      <div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap;">
        <a href="{% url 'home' %}" class="back-home-btn" style="display: flex; align-items: center; gap: 8px; padding: 10px 16px; border-radius: 12px; background: #0071e3; color: white; text-decoration: none; font-weight: 500; font-size: 14px; box-shadow: 0 4px 12px rgba(0, 113, 227, 0.2); transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); white-space: nowrap; flex-shrink: 0;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 24px rgba(0, 113, 227, 0.3)'; this.style.background='#0077ed'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(0, 113, 227, 0.2)'; this.style.background='#0071e3'">
          <iconify-icon icon="lucide:arrow-left" style="font-size: 16px;"></iconify-icon>
          <span class="back-home-text">Back to Home</span>
        </a>
        <a href="/admin-panel/login/" style="display: flex; align-items: center; gap: 8px; padding: 10px 16px; border-radius: 12px; background: transparent; color: #64748b; text-decoration: none; font-weight: 500; font-size: 14px; border: 1.5px solid #e5e7eb; transition: all 0.3s ease; white-space: nowrap; flex-shrink: 0;" onmouseover="this.style.borderColor='#0071e3'; this.style.color='#0071e3'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.color='#64748b'">
          <iconify-icon icon="lucide:lock" style="font-size: 16px;"></iconify-icon>
          <span>Admin Login</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Status Check Section -->
  <section class="hero-section" style="background: linear-gradient(180deg, #ffffff 0%, #f5f5f7 100%); padding: 60px 0 40px; position: relative; overflow: hidden;">
    <div class="container" style="text-align: center; position: relative; z-index: 1;">
      <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #0071e3, #ff6b35); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 32px; box-shadow: 0 8px 24px rgba(0, 113, 227, 0.2);">
        <iconify-icon icon="lucide:search" style="font-size: 40px; color: white;"></iconify-icon>
      </div>
      
      <h1 class="hero-title" style="font-size: 48px; font-weight: 600; margin-bottom: 16px; letter-spacing: -0.03em; color: #1d1d1f; line-height: 1.1;">
        Check Registration Status
      </h1>
      <p class="hero-subtitle" style="font-size: 18px; color: #86868b; max-width: 600px; margin: 0 auto 40px; line-height: 1.5; font-weight: 400;">
        Enter your email address or reference number to view your registration status and complete payment if needed.
      </p>
    </div>
  </section>

  <!-- Status Check Form Section -->
  <section class="form-section-wrapper" style="padding: 40px 0; background: linear-gradient(180deg, #ffffff 0%, #f5f5f7 100%);">
    <div class="container">
      <div style="max-width: 600px; margin: 0 auto;">
        <div class="registration-form-card" style="background: rgba(255, 255, 255, 0.9); backdrop-filter: saturate(180%) blur(20px); border-radius: 24px; padding: 40px; border: 1px solid #d2d2d7; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12); position: relative; overflow: hidden;">
          <!-- Decorative gradient top -->
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #0071e3, #ff6b35, #34c759);"></div>
          
          {% if error_message %}
          <div style="background: rgba(239, 68, 68, 0.1); border: 2px solid rgba(239, 68, 68, 0.2); border-radius: 12px; padding: 16px; margin-bottom: 24px; display: flex; align-items: center; gap: 12px;">
            <iconify-icon icon="lucide:alert-circle" style="font-size: 24px; color: #ef4444; flex-shrink: 0;"></iconify-icon>
            <p style="color: #ef4444; margin: 0; font-size: 14px; font-weight: 500;">{{ error_message }}</p>
          </div>
          {% endif %}
          
          <form method="post" style="margin: 0;">
            {% csrf_token %}
            
            <div style="margin-bottom: 24px;">
              <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #374151;">Email Address</label>
              <div style="position: relative;">
                <input type="email" name="email" id="email-input" value="{{ email }}" placeholder="Enter your email address" style="width: 100%; height: 54px; padding: 0 16px 0 44px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 16px; color: #374151; background: white; transition: all 0.3s ease;">
                <iconify-icon icon="lucide:mail" style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); font-size: 18px; color: #9ca3af;"></iconify-icon>
              </div>
              <p style="font-size: 12px; color: #86868b; margin-top: 8px; text-align: center;">OR</p>
            </div>
            
            <div style="margin-bottom: 32px;">
              <label style="display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #374151;">Reference Number</label>
              <div style="position: relative;">
                <input type="text" name="reference" id="reference-input" value="{{ reference }}" placeholder="Enter your reference number (e.g., ASPIR-REG-...)" style="width: 100%; height: 54px; padding: 0 16px 0 44px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 16px; color: #374151; background: white; transition: all 0.3s ease; font-family: monospace;">
                <iconify-icon icon="lucide:hash" style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); font-size: 18px; color: #9ca3af;"></iconify-icon>
              </div>
              <p style="font-size: 12px; color: #86868b; margin-top: 8px;">Enter either your email or reference number (not both)</p>
            </div>
            
            <script>
              document.addEventListener('DOMContentLoaded', function() {
                const emailInput = document.getElementById('email-input');
                const referenceInput = document.getElementById('reference-input');
                const form = document.querySelector('form');
                
                // Clear one field when the other is filled
                emailInput.addEventListener('input', function() {
                  if (this.value.trim()) {
                    referenceInput.value = '';
                  }
                });
                
                referenceInput.addEventListener('input', function() {
                  if (this.value.trim()) {
                    emailInput.value = '';
                  }
                });
                
                // Form validation
                form.addEventListener('submit', function(e) {
                  const email = emailInput.value.trim();
                  const reference = referenceInput.value.trim();
                  
                  if (!email && !reference) {
                    e.preventDefault();
                    alert('Please enter either your email address or reference number.');
                    return false;
                  }
                  
                  if (email && reference) {
                    e.preventDefault();
                    alert('Please enter only one: either email address OR reference number, not both.');
                    return false;
                  }
                });
              });
            </script>
            
            <button type="submit" style="width: 100%; height: 64px; background: linear-gradient(135deg, #8B5CF6, #F97316); color: white; border: none; border-radius: 20px; font-size: 18px; font-weight: 700; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 12px 32px rgba(139, 92, 246, 0.3); position: relative; overflow: hidden; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 12px;">
              <iconify-icon icon="lucide:search" style="font-size: 20px;"></iconify-icon>
              Check Status
            </button>
          </form>
          
          <div style="background: rgba(0, 113, 227, 0.08); border: 1px solid rgba(0, 113, 227, 0.15); border-radius: 12px; padding: 16px; margin-top: 24px;">
            <div style="display: flex; align-items: flex-start; gap: 12px;">
              <iconify-icon icon="lucide:info" style="font-size: 20px; color: #0071e3; flex-shrink: 0; margin-top: 2px;"></iconify-icon>
              <div>
                <p style="font-size: 13px; color: #64748b; margin: 0; line-height: 1.6;">
                  <strong style="color: #1d1d1f;">Need help?</strong> If you can't find your registration, please check your email for the confirmation message which contains your reference number. You can also contact us at <a href="mailto:info@elevatetribeanalytics.com" style="color: #0071e3; text-decoration: none;">info@elevatetribeanalytics.com</a> or call (+233) 20 956 9399.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer-section" style="background: linear-gradient(135deg, #1d1d1f 0%, #1e1b4b 50%, #374151 100%); color: white; padding: 40px 0 24px; position: relative; overflow: hidden;">
    <div style="position: absolute; top: 0; right: 0; width: 150px; height: 150px; background: radial-gradient(circle, rgba(249, 115, 22, 0.08) 0%, transparent 70%); border-radius: 50%;"></div>
    <div class="container text-center">
      <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
        <img src="{% static 'images/Elevate-Tribe-Bg-Remover.png' %}" alt="ASPIR Logo" class="footer-logo" style="height: 60px; width: auto; filter: brightness(0) invert(1);" />
      </div>

      <div class="footer-links" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 16px 24px; margin-bottom: 20px; font-size: 13px;">
        <a href="https://elevatetribeanalytics.com/" style="color: #ff6b35; text-decoration: none; opacity: 0.9; transition: opacity 0.2s;">elevatetribeanalytics.com</a>
        <span style="opacity: 0.5;">•</span>
        <a href="mailto:info@elevatetribeanalytics.com" style="color: #ff6b35; text-decoration: none; opacity: 0.9; transition: opacity 0.2s;">info@elevatetribeanalytics.com</a>
        <span style="opacity: 0.5;">•</span>
        <a href="tel:+233209569399" style="color: #ff6b35; text-decoration: none; opacity: 0.9; transition: opacity 0.2s;">(+233) 20 956 9399</a>
      </div>

      <div class="footer-social" style="display: flex; justify-content: center; gap: 20px; margin-bottom: 20px;">
        <a href="#" style="color: white; text-decoration: none; opacity: 0.7; transition: all 0.2s; display: flex; align-items: center; gap: 6px;" onmouseover="this.style.opacity='1'; this.style.transform='translateY(-2px)'" onmouseout="this.style.opacity='0.7'; this.style.transform='translateY(0)'">
          <iconify-icon icon="lucide:instagram" style="font-size: 18px;"></iconify-icon>
          <span style="font-size: 13px;">Instagram</span>
        </a>
        <a href="#" style="color: white; text-decoration: none; opacity: 0.7; transition: all 0.2s; display: flex; align-items: center; gap: 6px;" onmouseover="this.style.opacity='1'; this.style.transform='translateY(-2px)'" onmouseout="this.style.opacity='0.7'; this.style.transform='translateY(0)'">
          <iconify-icon icon="lucide:linkedin" style="font-size: 18px;"></iconify-icon>
          <span style="font-size: 13px;">LinkedIn</span>
        </a>
        <a href="#" style="color: white; text-decoration: none; opacity: 0.7; transition: all 0.2s; display: flex; align-items: center; gap: 6px;" onmouseover="this.style.opacity='1'; this.style.transform='translateY(-2px)'" onmouseout="this.style.opacity='0.7'; this.style.transform='translateY(0)'">
          <iconify-icon icon="lucide:facebook" style="font-size: 18px;"></iconify-icon>
          <span style="font-size: 13px;">Facebook</span>
        </a>
      </div>

      <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 16px;">
        <p style="opacity: 0.5; font-size: 12px; margin: 0;">
          © {% now "Y" %} Elevate Tribe Analytics. All rights reserved.
        </p>
      </div>
    </div>
  </footer>
</div>

<script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>

<style>
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
  }
  
  input:focus {
    outline: none;
    border-color: #8B5CF6 !important;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
  }
  
  button:hover {
    transform: translateY(-3px) scale(1.02) !important;
    box-shadow: 0 16px 40px rgba(139, 92, 246, 0.4) !important;
  }
  
  button:active {
    transform: translateY(-1px) scale(0.98) !important;
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .container {
      padding: 0 16px !important;
    }
    
    .hero-title {
      font-size: 32px !important;
    }
    
    .hero-subtitle {
      font-size: 16px !important;
    }
    
    .registration-form-card {
      padding: 24px 16px !important;
    }
    
    button {
      height: 56px !important;
      font-size: 16px !important;
    }
  }
  
  @media (max-width: 480px) {
    .hero-title {
      font-size: 26px !important;
    }
    
    .registration-form-card {
      padding: 20px 12px !important;
    }
    
    input {
      height: 48px !important;
      font-size: 15px !important;
    }
  }
</style>
{% endblock %}
