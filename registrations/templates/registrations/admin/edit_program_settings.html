{% extends 'registrations/admin/base.html' %}
{% load static %}

{% block page_title %}Edit Program Settings{% endblock %}

{% block content %}
<div class="fade-in-up">
  <div class="edit-form-container">
    <div class="edit-form-header">
      <div>
        <h2 style="font-size: 28px; font-weight: 600; letter-spacing: -0.02em; margin-bottom: 8px; color: hsl(var(--admin-foreground));">
          Edit Program Settings
        </h2>
        <p style="color: hsl(var(--admin-muted-foreground)); font-size: 15px;">
          Configure general program settings
        </p>
      </div>
      <a href="{% url 'admin_settings' %}" class="btn btn-secondary">
        <iconify-icon icon="lucide:arrow-left"></iconify-icon>
        Back to Settings
      </a>
    </div>

    <form method="post" class="admin-edit-form">
      {% csrf_token %}
      
      <fieldset class="form-fieldset">
        <legend>Site Information</legend>
        <div class="form-grid">
          <div class="form-group" style="grid-column: 1 / -1;">
            <label for="{{ form.site_name.id_for_label }}">{{ form.site_name.label }}</label>
            {{ form.site_name }}
            {% if form.site_name.errors %}
              <div class="form-error">{{ form.site_name.errors }}</div>
            {% endif %}
          </div>
          
          <div class="form-group" style="grid-column: 1 / -1;">
            <label for="{{ form.site_tagline.id_for_label }}">{{ form.site_tagline.label }}</label>
            {{ form.site_tagline }}
            {% if form.site_tagline.errors %}
              <div class="form-error">{{ form.site_tagline.errors }}</div>
            {% endif %}
          </div>
        </div>
      </fieldset>

      <fieldset class="form-fieldset">
        <legend>Age Groups Configuration</legend>
        <div class="form-grid">
          <div class="form-group">
            <label for="{{ form.group1_min_age.id_for_label }}">Group 1 Minimum Age</label>
            {{ form.group1_min_age }}
            {% if form.group1_min_age.errors %}
              <div class="form-error">{{ form.group1_min_age.errors }}</div>
            {% endif %}
          </div>
          
          <div class="form-group">
            <label for="{{ form.group1_max_age.id_for_label }}">Group 1 Maximum Age</label>
            {{ form.group1_max_age }}
            {% if form.group1_max_age.errors %}
              <div class="form-error">{{ form.group1_max_age.errors }}</div>
            {% endif %}
          </div>
          
          <div class="form-group">
            <label for="{{ form.group2_min_age.id_for_label }}">Group 2 Minimum Age</label>
            {{ form.group2_min_age }}
            {% if form.group2_min_age.errors %}
              <div class="form-error">{{ form.group2_min_age.errors }}</div>
            {% endif %}
          </div>
          
          <div class="form-group">
            <label for="{{ form.group2_max_age.id_for_label }}">Group 2 Maximum Age</label>
            {{ form.group2_max_age }}
            {% if form.group2_max_age.errors %}
              <div class="form-error">{{ form.group2_max_age.errors }}</div>
            {% endif %}
          </div>
          
          <div class="form-group">
            <label for="{{ form.guardian_required_age.id_for_label }}">{{ form.guardian_required_age.label }}</label>
            {{ form.guardian_required_age }}
            {% if form.guardian_required_age.errors %}
              <div class="form-error">{{ form.guardian_required_age.errors }}</div>
            {% endif %}
            <small class="form-help">Guardian info required for ages below this</small>
          </div>
        </div>
      </fieldset>

      <fieldset class="form-fieldset">
        <legend>Maintenance Mode</legend>
        <div class="form-grid">
          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              {{ form.maintenance_mode }}
              <span>{{ form.maintenance_mode.label }}</span>
            </label>
            {% if form.maintenance_mode.errors %}
              <div class="form-error">{{ form.maintenance_mode.errors }}</div>
            {% endif %}
          </div>
          
          <div class="form-group" style="grid-column: 1 / -1;">
            <label for="{{ form.maintenance_message.id_for_label }}">{{ form.maintenance_message.label }}</label>
            {{ form.maintenance_message }}
            {% if form.maintenance_message.errors %}
              <div class="form-error">{{ form.maintenance_message.errors }}</div>
            {% endif %}
          </div>
        </div>
      </fieldset>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">
          <iconify-icon icon="lucide:save"></iconify-icon>
          Save Changes
        </button>
        <a href="{% url 'admin_settings' %}" class="btn btn-secondary">
          Cancel
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
